---
title: "MongoDB Atlas Device Sync Migration Guide"
---

<Info>We are currently working on a more detailed migration guide. In the meantime, the below guide provides high-level migration information.</Info>

## MongoDB Atlas deprecation

In September 2024, MongoDB [deprecated](https://www.mongodb.com/docs/atlas/app-services/deprecation/#std-label-app-services-deprecation) the following services:

* Atlas Device Sync
* Atlas Data API
* Atlas Device SDKs

If you have MongoDB Atlas Device Sync deployed today, at a high level your architecture probably looks something like this:
<Frame>
  <img src="/images/resources-1.png"/>
</Frame>

## PowerSync beta support for MongoDB

As of December 2024, support for MongoDB as a backend database source in PowerSync is available in [a Beta release](https://www.powersync.com/blog/powersync-mongodb-connector-module-now-in-beta). This means that MongoDB replication is considered ready for production-use, provided that you have adequately tested your use cases.

It is currently available in [PowerSync Cloud](https://www.powersync.com/pricing) and self-hosted environments:

* **PowerSync Cloud**: Refer to [Database Connection](/installation/database-connection#mongodb-beta-specifics)
* **Self-hosted**: An end-to-end demo app using Docker Compose is [available here](https://github.com/powersync-ja/self-host-demo/tree/main/demos/nodejs-mongodb). Please refer to its README for further instructions.

Migrating to PowerSync would take you to this: (new components in green)

<Frame>
  <img src="/images/resources-2.png"/>
</Frame>

### Explanation of the migrated architecture

1. PowerSync handles writes differently from reads. 
   * **Reads:** The PowerSync Service connects to your MongoDB database and replicates data in real-time to PowerSync clients. Reads are partitioned using PowerSync's [Sync Rules](/usage/sync-rules)
         * Sync Rules are more flexible than MongoDB Realm Flexible Sync, but are defined server-side and not client-side.
   * **Writes:** The client-side application can perform writes directly on the local SQLite database. The writes are also automatically placed into an upload queue by the PowerSync client SDK. The SDK then uses a developer-defined `uploadData()` function to manage the uploading of those writes sequentially to the backend. In the `uploadData()` function, the developer calls their backend API.
         * The backend can be a very thin API layer or can contain significant amounts of logic — [it is up to the developer](/installation/app-backend-setup/writing-client-changes)
2. The PowerSync Service is generally [available](https://powersync.com/pricing) as a cloud-hosted service (PowerSync Cloud), or you can self-host using our Open Edition.
3. The PowerSync Client SDKs use **SQLite** under the hood. Even though MongoDB is a "NoSQL" document database, PowerSync's use of SQLite works well with MongoDB, since the [PowerSync protocol](/architecture/powersync-protocol) is schemaless (it syncs schemaless JSON data) and we dynamically apply a [client-side schema](/installation/client-side-setup/define-your-schema) to the data in SQLite using SQLite views.
   * The client-side will most likely be where the bulk of migration work takes place for customers migrating from Atlas Device Sync to PowerSync. See [this post on our blog](https://www.powersync.com/blog/migrating-a-mongodb-atlas-device-sync-app-to-powersync) for a migration example. 
   * Client-side queries are typically written in SQL. [ORM support](https://www.powersync.com/blog/using-orms-with-powersync) is available for our JavaScript ([React Native](/client-sdk-references/javascript-web/javascript-orm/overview) and [web](/client-sdk-references/javascript-web/javascript-orm/overview)) and Flutter/[Dart](/client-sdk-references/flutter/flutter-orm-support) Client SDKs.
4. PowerSync piggybacks off your existing authentication, however, it uses JWTs. If you were using Atlas Device SDKs for authentication, you will need to implement an authentication provider.

### Migration steps

<Tip>The blog post [Migrating a MongoDB Atlas Device Sync App to PowerSync](https://www.powersync.com/blog/migrating-a-mongodb-atlas-device-sync-app-to-powersync) can serve as a handy guide through the migration process.</Tip>

1. Connect your database to an instance of the PowerSync Service:
   1. **PowerSync Cloud**: See [Database Connection](/installation/database-connection#mongodb-alpha-specifics)
   2. **Self-hosted**: Refer to our end-to-end demo app [available here](https://github.com/powersync-ja/self-host-demo/tree/main/demos/nodejs-mongodb)
2. Define [Sync Rules](/usage/sync-rules) in PowerSync — this enables dynamic partial replication so that you don't need to sync your entire MongoDB database to devices.
   1. We recommend starting with one or two simple [Global Data](/usage/sync-rules/example-global-data) queries
3. Generate a [Development Token](/installation/authentication-setup/development-tokens)
4. Use our [Diagnostics App](https://diagnostics-app.powersync.com/) to validate that MongoDB is syncing into SQLite as expected.
5. Implement an app using one of our [Client SDKs](/client-sdk-references/introduction)
   1. You can continue using your _Development Token_ for authentication as a start.
   2. We recommend implementing a "Hello World" app to get a feel for how PowerSync works, _or_ you can jump straight into pulling the Client SDK into your existing app.
   3. Verify that syncing from MongoDB is working.
6. Implement [authentication](/installation/authentication-setup/custom)
7. Implement your backend app to accept writes. There are currently two options:
   1. **Custom self-hosted backend:** If you already have a backend application as part of your stack, you should use your existing backend. Alternatively, we have Node.js, Django and Rails example implementations available [here](/resources/demo-apps-example-projects#custom-backend-examples).
   2. **CloudCode hosted/managed backend:** An alternative option is to use CloudCode, a serverless cloud functions environment provided by us. We provide a template that you can use as a turnkey starting point. See our [documentation here](/usage/tools/cloudcode).

### Additional notes

#### PowerSync Service

The PowerSync Service can either be self-hosted or deployed using PowerSync Cloud.

To [self-host](https://github.com/powersync-ja/powersync-service?tab=readme-ov-file), you need a Docker environment. Refer to our end-to-end demo app [available here](https://github.com/powersync-ja/self-host-demo/tree/main/demos/nodejs-mongodb) which uses Docker Compose.

#### PowerSync Client SDKs

We are constantly adding additional [PowerSync Client SDKs](/client-sdk-references/introduction) and some of them are under very active development. Below are the release status for each language/platform:

| Client SDK                                                          | Status      | Release ETA      |
| ------------------------------------------------------------------- | ----------- | ---------------- |
| [JavaScript/Web](/client-sdk-references/javascript-web)             | Stable      | N/A              |
| [React Native & Expo](/client-sdk-references/react-native-and-expo) | Stable      | N/A              |
| [Flutter/Dart](/client-sdk-references/flutter)                      | Stable      | N/A              |
| [Kotlin Multiplatform](/client-sdk-references/kotlin-multiplatform) | Beta        | V1 ETA 2025Q1    |
| [Swift](/client-sdk-references/swift)                               | Beta        | V1 ETA 2025Q1    |
| Node.js                                                             | PoC         | Alpha ETA 2025Q1 |
| .NET                                                                | In Progress | Alpha ETA 2025Q1 |

<Info>
   We've had customers inquire about the availability of a Rust/C++ SDK. The PowerSync core SQLite extension is implemented in Rust and we can work with customers to integrate PowerSync into their C++ applications. Please reach out to us at hello@powersync.com or [schedule a call](https://www.powersync.com/contact) with us
</Info>

#### App Backend

Your app backend needs to expose an API endpoint to write changes from the PowerSync client to the backend MongoDB database.

As noted above, there are currently two options:
  1. **Custom self-hosted backend:** If you already have a backend application as part of your stack, you should use your existing backend. If you don't yet have one: We have Node.js, Django and Rails example implementations available [here](/resources/demo-apps-example-projects#custom-backend-examples).
  2. **CloudCode hosted/managed backend:** An alternative option is to use CloudCode, a serverless cloud functions environment provided by us. We provide a template that you can use as a turnkey starting point. See our [documentation here](/usage/tools/cloudcode).

Additional backend implementation details are available here: [Writing Client Changes](/installation/app-backend-setup/writing-client-changes).
