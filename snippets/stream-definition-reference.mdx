```yaml
config:
  edition: 2

with:
  # Global CTEs (optional) - reusable subqueries available to all streams
  <cte_name>: SELECT ... FROM ...

streams:
  <stream_name>:
    # Query options (use one)
    query: SELECT * FROM <table> WHERE ...         # Single query
    queries:                                       # Multiple queries (same bucket)
      - SELECT * FROM <table_a> WHERE ...
      - SELECT * FROM <table_b> WHERE ...
    
    # Stream-scoped CTEs (optional)
    with:
      <local_cte>: SELECT ... FROM ...
    
    # Behavior options
    auto_subscribe: true    # Auto-subscribe clients on connect (default: false)
    priority: 1             # Sync priority (optional). Lower number -> higher priority 
    accept_potentially_dangerous_queries: true  # Silence security warnings (default: false)
```

| Option | Default | Description |
|--------|---------|-------------|
| `query` | — | SQL-like query defining which data to sync. Use either `query` or `queries`, not both. See [Writing Queries](/sync/streams/queries). |
| `queries` | — | Array of queries defining which data to sync. Data from all the queries will populate the same [bucket](/architecture/powersync-service#bucket-system). See [Multiple Queries per Stream](/sync/streams/queries#multiple-queries-per-stream). |
| `with` | — | Stream-scoped [CTEs](/sync/streams/ctes) available only to this stream's queries. |
| `auto_subscribe` | `false` | When `true`, clients automatically subscribe on connect. |
| `priority` | — | Sync priority (lower value = higher priority). See [Prioritized Sync](/sync/advanced/prioritized-sync). |
| `accept_potentially_dangerous_queries` | `false` | Silences security warnings when queries use client-controlled parameters (i.e. _connection parameters_ and _subscription parameters_), as opposed to _authentication parameters_ that are signed as part of the JWT. Set to `true` only if you've verified the query is safe. See [Using Parameters](/sync/streams/parameters). |
