---
title: "Development Tokens"
---

PowerSync allows generating temporary development tokens for authentication. 

This is useful for developers who want to get up and running quickly, without full auth integration. 

This can also be used to generate a token for a specific user to debug issues.

## Generating a Development Token

<Tabs>
  <Tab title="PowerSync Cloud">
    1. In the [PowerSync Dashboard](https://dashboard.powersync.com/), select your project and instance
    2. Go to the **Client Auth** view
    3. Check the **Development tokens** setting and save your changes
    4. Click the **Connect** button in the top bar
    5. Enter a user ID:
       - If you're only using [global](/sync/rules/global-data) Sync Rules / Streams, you can enter any value (e.g., `test-user`) since all data syncs to all users
       - If you're using any Sync Rules / Streams that filter data by user, enter a user ID that matches a user in your database. The user ID will be used as `request.user_id()` in your Sync Rules or `auth.user_id()` in Sync Streams.
    6. Click **Generate Token** and copy the token

    <Note>
      Development tokens expire after 12 hours.
    </Note>
  </Tab>

  <Tab title="Self-Hosted">
    For self-hosted setups, you can generate development tokens using the [powersync-service test-client](https://github.com/powersync-ja/powersync-service/tree/main/test-client):

    #### Step 1: Generate a shared secret

    To generate a shared secret, you can use an online JWS key generator like [this one](https://8gwifi.org/jwsgen.jsp) (not affiliated with PowerSync).

    <Note>
      You don't need to edit the default payload in the [JWS key generator](https://8gwifi.org/jwsgen.jsp).
      You simply need to obtain the generated shared secret value.
    </Note>

    1. Click **Generate JWS Keys & Sign**
    2. Copy the shared secret value

    <Warning>
      Using an online key generator for secrets in a production environment is not recommended. 
    </Warning>

    #### Step 2: Update `powersync.yaml`

    Update the `k` value in the `jwks` `keys` in your `powersync.yaml` config file with the shared secret value copied in the previous step:

    ```yaml powersync.yaml
    # Client (application end user) authentication settings
    client_auth:
        # JWKS URIs can be specified here
        jwks_uri: !env PS_JWKS_URL
        jwks:
            keys:
                - kty: 'oct'
                  k: 'YOUR_GENERATED_SHARED_SECRET'
                  alg: 'HS256'
    ```

    #### Step 3: Generate a development token

    1. If you have not done so already, clone the [powersync-service repo](https://github.com/powersync-ja/powersync-service/tree/main)
    2. Install the dependencies:
       - In the project root, run the following commands:
         ```bash
         pnpm install
         pnpm build:packages
         ```
       - In the `test-client` directory, run the following commands:
         ```bash
         pnpm build
         ```
    3. Generate a new token by running the following command in the `test-client` directory with your updated `powersync.yaml` config file:
       ```bash
       node dist/bin.js generate-token --config path/to/powersync.yaml --sub test-user
       ```
       
       Replace `test-user` with the user ID you want to authenticate:
       - If you're using **global Sync Rules**, you can use any value (e.g., `test-user`) since all data syncs to all users
       - If you're using **user-specific Sync Rules**, use a user ID that matches a user in your database (this will be used as `request.user_id()` in your Sync Rules)

    <Note>
      Development tokens expire after 12 hours.
    </Note>
  </Tab>
</Tabs>

## Usage

Development tokens can be used for testing purposes either with the [Sync Diagnostics Client](https://diagnostics-app.powersync.com), the [test-client](https://github.com/powersync-ja/powersync-service/tree/main/test-client), or your app itself (for development purposes).

### Using with Sync Diagnostics Client

The [Sync Diagnostics Client](https://diagnostics-app.powersync.com) allows you to quickly test syncing and inspect a user's SQLite database, to verify that your PowerSync Service configuration and Sync Rules / Streams behave as expected.

1. Open the [Sync Diagnostics Client](https://diagnostics-app.powersync.com)
2. Enter the generated development token at **PowerSync Token**.
3. Enter your PowerSync Service endpoint URL at **PowerSync Endpoint** unless already prepopulated.
4. Click **Proceed**.
4. Wait for the syncing to complete and inspect the synced data in SQLite.

### Using with `test-client`

The [test-client](https://github.com/powersync-ja/powersync-service/tree/main/test-client) is useful for testing of syncing without persisting anything to a client-side SQLite database. Amongst other things, it can be used for load testing, simulating many client syncing concurrently. Consult the [README](https://github.com/powersync-ja/powersync-service/tree/main/test-client#readme) for details on how to provide the development token as argument to `test-client` supported commands. 


### Using with Your Application

To use the temporary development token in your application, update the [`fetchCredentials()` function](/configuration/app-backend/client-side-integration) in your _backend connector_ to return the generated token.

<CodeGroup>
  ```typescript React Native, Web & Capacitor (TS)
  async fetchCredentials(): Promise<PowerSyncCredentials> {
    // for development: use development token
    return {
      endpoint: 'https://your-instance.powersync.com',
      token: 'your-development-token-here'
    };
  }
  ```

  ```typescript Node.js (TS)
  async fetchCredentials() {
    // for development: use development token
    return {
        endpoint: 'https://your-instance.powersync.com',
        token: 'your-development-token-here'
    };
  }
  ```

  ```kotlin Kotlin
  override suspend fun fetchCredentials(): PowerSyncCredentials {
    // for development: use development token
    return PowerSyncCredentials(
      endpoint = "https://your-instance.powersync.com",
      token = "your-development-token-here"
    )
  }
  ```

  ```swift Swift
  func fetchCredentials() async throws -> PowerSyncCredentials {
    // for development: use development token
    return PowerSyncCredentials(
      endpoint: "https://your-instance.powersync.com",
      token: "your-development-token-here"
    )
  }
  ```

  ```dart Dart/Flutter
  @override
  Future<PowerSyncCredentials> fetchCredentials() async {
    return PowerSyncCredentials(
      endpoint: 'https://your-instance.powersync.com',
      token: 'your-development-token-here'
    );
  }
  ```

  ```csharp .NET
  public async Task<PowerSyncCredentials?> FetchCredentials()
  {
      var powerSyncUrl = "https://your-instance.powersync.com";
      var authToken = "your-development-token-here";

      // Return credentials with PowerSync endpoint and JWT token
      return new PowerSyncCredentials(powerSyncUrl, authToken);
  }
  ```
</CodeGroup>